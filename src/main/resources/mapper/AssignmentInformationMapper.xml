<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.demo.dao.AssignmentInformationMapper">

    <select id="getList" parameterType="int" resultType="map">
        SELECT * from assignment_information
    </select>

    <!-- TODO getStudentAss =>  getStudentAss1-->
    <select id="getStudentAss1" parameterType="int" resultType="map">
        select a.*,l.college_name,l.resource_name
        from learning_resource l,assignment_information a
        where a.course_cover = l.resource_images
          and a.status = 1
          and l.college_name =
              (select college_name
               from student_users
               where user_id = #{userId})
    </select>

    <select id="getStudentAss" parameterType="int" resultType="map">
        select a.*,l.college_name,l.resource_name
        from learning_resource l,assignment_information a
        where a.course_name = l.resource_name
          and a.status = 1
          and l.college_name =
              (select college_name
               from student_users
               where user_id = #{userId})
    </select>

    <update id="toPublic" parameterType="int">
        update assignment_information
        set status = 1
        where assignment_information_id = #{id};
    </update>

</mapper>
